rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
2023/02/15 10:00:33 raft.go:262: [0;37m[info] [Snapshot Request]1 to 2, prevLogIndex 9, dummyIndex 12[0m
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestRestoreFromSnapWithOverlapingPeersMsg2C
--- PASS: TestRestoreFromSnapWithOverlapingPeersMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
2023/02/15 10:01:37.170329 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2023/02/15 10:01:37.170727 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:3 store_id:3 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 >  create peer with ID 1[0m
2023/02/15 10:01:37.170869 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 295.16Âµs[0m
2023/02/15 10:01:37.171551 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2023/02/15 10:01:37.171699 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:3 store_id:3 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 >  create peer with ID 2[0m
2023/02/15 10:01:37.171795 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 137.802Âµs[0m
2023/02/15 10:01:37.172404 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2023/02/15 10:01:37.172565 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:3 store_id:3 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 >  create peer with ID 3[0m
2023/02/15 10:01:37.172652 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 124.286Âµs[0m
2023/02/15 10:01:38.947764 peer_msg_handler.go:195: [0;37m[info] 2 apply commit, entry 18, type CompactLog, truncatedIndex 15[0m
2023/02/15 10:01:38.976437 peer_msg_handler.go:195: [0;37m[info] 3 apply commit, entry 18, type CompactLog, truncatedIndex 15[0m
2023/02/15 10:01:39.014210 peer_storage.go:182: [0;37m[info] [region 1] 2 requesting snapshot[0m
2023/02/15 10:01:39.014247 raft.go:262: [0;37m[info] [Snapshot Request]2 to 1, prevLogIndex 8, dummyIndex 16[0m
2023/02/15 10:01:39.014268 raft.go:262: [0;37m[info] [Snapshot Request]2 to 1, prevLogIndex 8, dummyIndex 16[0m
2023/02/15 10:01:39.015418 snap.go:549: [0;37m[info] region 1 scan snapshot /tmp/test-raftstore3737482650/snap/gen_1_6_18_(default|write|lock).sst, key count 11, size 135[0m
2023/02/15 10:01:39.027327 peer_msg_handler.go:195: [0;37m[info] 2 apply commit, entry 19, type CompactLog, truncatedIndex 16[0m
2023/02/15 10:01:39.046934 raft.go:262: [0;37m[info] [Snapshot Request]2 to 1, prevLogIndex 8, dummyIndex 17[0m
2023/02/15 10:01:39.046950 peer_msg_handler.go:195: [0;37m[info] 3 apply commit, entry 19, type CompactLog, truncatedIndex 16[0m
2023/02/15 10:01:39.110020 raft.go:262: [0;37m[info] [Snapshot Request]2 to 1, prevLogIndex 8, dummyIndex 17[0m
2023/02/15 10:01:41.277564 peer_storage.go:182: [0;37m[info] [region 1] 2 requesting snapshot[0m
2023/02/15 10:01:41.277626 raft.go:262: [0;37m[info] [Snapshot Request]2 to 1, prevLogIndex 8, dummyIndex 17[0m
2023/02/15 10:01:41.278478 snap.go:549: [0;37m[info] region 1 scan snapshot /tmp/test-raftstore3737482650/snap/gen_1_6_26_(default|write|lock).sst, key count 16, size 204[0m
2023/02/15 10:01:41.280264 raft.go:262: [0;37m[info] [Snapshot Request]2 to 1, prevLogIndex 8, dummyIndex 17[0m
2023/02/15 10:01:41.332043 raft.go:262: [0;37m[info] [Snapshot Request]2 to 1, prevLogIndex 8, dummyIndex 17[0m
2023/02/15 10:01:41.420763 raft.go:262: [0;37m[info] [Snapshot Request]2 to 1, prevLogIndex 8, dummyIndex 17[0m
2023/02/15 10:01:41.500291 peer_storage.go:334: [0;37m[info] [region 1] 1 begin to apply snapshot[0m
2023/02/15 10:01:41.500346 peer_storage.go:298: [0;37m[info] [region 1] clear peer 1 meta key 1 apply key 1 raft key and 3 raft logs, takes 15.576Âµs[0m
2023/02/15 10:01:41.500402 region_task.go:93: [0;37m[info] begin apply snap data. [regionId: 1][0m
2023/02/15 10:01:41.512281 peer_msg_handler.go:195: [0;37m[info] 2 apply commit, entry 28, type CompactLog, truncatedIndex 26[0m
2023/02/15 10:01:41.525399 region_task.go:137: [0;37m[info] succeed in deleting data in range. [regionId: 1, startKey: , endKey: ][0m
2023/02/15 10:01:41.538476 peer_msg_handler.go:195: [0;37m[info] 3 apply commit, entry 28, type CompactLog, truncatedIndex 26[0m
2023/02/15 10:01:41.745232 snap.go:700: [0;37m[info] apply snapshot ingested 1 tables[0m
2023/02/15 10:01:41.745269 region_task.go:117: [0;37m[info] applying new data. [regionId: 1, timeTakes: 219.613944ms][0m
2023/02/15 10:01:41.745295 peer_storage.go:370: [0;37m[info] [region 1] 1 end to apply snapshot, metaDataIndex 26, truncatedStateIndex 26[0m
2023/02/15 10:01:41.755212 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2023/02/15 10:01:41.771908 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2023/02/15 10:01:41.772074 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:3 store_id:3 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 >  create peer with ID 1[0m
2023/02/15 10:01:41.772159 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 143.171Âµs[0m
2023/02/15 10:01:41.772221 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2023/02/15 10:01:41.772249 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2023/02/15 10:01:41.772307 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
--- PASS: TestOneSnapshot2C (10.88s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	10.905s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2023/02/15 10:01:54.575560 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2023/02/15 10:01:54.576031 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 1[0m
2023/02/15 10:01:54.576168 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 305.783Âµs[0m
2023/02/15 10:01:54.576913 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2023/02/15 10:01:54.577076 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 2[0m
2023/02/15 10:01:54.577174 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 147.742Âµs[0m
2023/02/15 10:01:54.577790 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2023/02/15 10:01:54.577943 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 3[0m
2023/02/15 10:01:54.578077 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 179.831Âµs[0m
2023/02/15 10:01:54.578673 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2023/02/15 10:01:54.578819 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 4[0m
2023/02/15 10:01:54.578942 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 167.678Âµs[0m
2023/02/15 10:01:54.579569 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2023/02/15 10:01:54.579724 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 5[0m
2023/02/15 10:01:54.579816 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 141.996Âµs[0m
2023/02/15 10:02:06.136926 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2023/02/15 10:02:06.136965 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2023/02/15 10:02:06.152097 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2023/02/15 10:02:06.152151 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2023/02/15 10:02:06.192437 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2023/02/15 10:02:06.216697 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2023/02/15 10:02:06.716825 test_test.go:264: [0;33m[warning] restart servers
[0m
2023/02/15 10:02:06.717503 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2023/02/15 10:02:06.717732 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 1[0m
2023/02/15 10:02:06.717874 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 213.676Âµs[0m
2023/02/15 10:02:06.718513 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2023/02/15 10:02:06.718706 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 2[0m
2023/02/15 10:02:06.718821 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 210.464Âµs[0m
2023/02/15 10:02:06.719448 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2023/02/15 10:02:06.719607 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 3[0m
2023/02/15 10:02:06.719723 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 174.695Âµs[0m
2023/02/15 10:02:06.720343 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2023/02/15 10:02:06.720505 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 4[0m
2023/02/15 10:02:06.720637 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 192.068Âµs[0m
2023/02/15 10:02:06.721308 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2023/02/15 10:02:06.721454 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 5[0m
2023/02/15 10:02:06.721573 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 163.018Âµs[0m
2023/02/15 10:02:45.547035 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2023/02/15 10:02:45.547096 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2023/02/15 10:02:45.611682 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2023/02/15 10:02:45.611735 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2023/02/15 10:02:45.660961 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2023/02/15 10:02:45.661029 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2023/02/15 10:02:46.161508 test_test.go:264: [0;33m[warning] restart servers
[0m
2023/02/15 10:02:46.162167 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2023/02/15 10:02:46.162424 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 1[0m
2023/02/15 10:02:46.162618 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 294.592Âµs[0m
2023/02/15 10:02:46.163354 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2023/02/15 10:02:46.163509 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 2[0m
2023/02/15 10:02:46.163667 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 208.418Âµs[0m
2023/02/15 10:02:46.164323 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2023/02/15 10:02:46.164471 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 3[0m
2023/02/15 10:02:46.164613 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 191.055Âµs[0m
2023/02/15 10:02:46.165256 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2023/02/15 10:02:46.165411 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 4[0m
2023/02/15 10:02:46.165569 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 203.994Âµs[0m
2023/02/15 10:02:46.166286 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2023/02/15 10:02:46.166438 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 5[0m
2023/02/15 10:02:46.166593 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 201.674Âµs[0m
2023/02/15 10:02:53.889317 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2023/02/15 10:02:53.889370 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2023/02/15 10:02:53.902324 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2023/02/15 10:02:53.939868 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2023/02/15 10:02:53.939927 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2023/02/15 10:02:53.940969 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2023/02/15 10:02:54.442084 test_test.go:264: [0;33m[warning] restart servers
[0m
2023/02/15 10:02:54.442856 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2023/02/15 10:02:54.443193 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 1[0m
2023/02/15 10:02:54.443417 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 393.399Âµs[0m
2023/02/15 10:02:54.444078 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2023/02/15 10:02:54.444228 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 2[0m
2023/02/15 10:02:54.444406 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 225.604Âµs[0m
2023/02/15 10:02:54.445069 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2023/02/15 10:02:54.445238 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 3[0m
2023/02/15 10:02:54.445414 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 249.956Âµs[0m
2023/02/15 10:02:54.446057 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2023/02/15 10:02:54.446198 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 4[0m
2023/02/15 10:02:54.446386 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 230.727Âµs[0m
2023/02/15 10:02:54.447072 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2023/02/15 10:02:54.447212 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 > peers:<id:3 store_id:3 >  create peer with ID 5[0m
2023/02/15 10:02:54.447375 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 209.868Âµs[0m
2023/02/15 10:02:58.502296 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2023/02/15 10:02:58.502381 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2023/02/15 10:02:58.529975 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2023/02/15 10:02:58.555269 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2023/02/15 10:02:58.555332 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
--- PASS: TestSnapshotRecover2C (77.74s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	77.840s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2023/02/15 10:03:07.604981 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2023/02/15 10:03:07.605419 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 >  create peer with ID 1[0m
2023/02/15 10:03:07.605539 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 290.756Âµs[0m
2023/02/15 10:03:07.606219 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2023/02/15 10:03:07.606386 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 >  create peer with ID 2[0m
2023/02/15 10:03:07.606479 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 156.762Âµs[0m
2023/02/15 10:03:07.607119 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2023/02/15 10:03:07.607262 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 >  create peer with ID 3[0m
2023/02/15 10:03:07.607352 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 139.699Âµs[0m
2023/02/15 10:03:07.607935 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2023/02/15 10:03:07.608079 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 >  create peer with ID 4[0m
2023/02/15 10:03:07.608173 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 135.563Âµs[0m
2023/02/15 10:03:07.608766 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2023/02/15 10:03:07.608897 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 >  create peer with ID 5[0m
2023/02/15 10:03:07.608982 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 125.623Âµs[0m
2023/02/15 10:03:10.027624 peer_msg_handler.go:195: [0;37m[info] 5 apply commit, entry 113, type CompactLog, truncatedIndex 106[0m
2023/02/15 10:03:10.735265 peer_msg_handler.go:195: [0;37m[info] 4 apply commit, entry 113, type CompactLog, truncatedIndex 106[0m
2023/02/15 10:03:10.785051 peer_msg_handler.go:195: [0;37m[info] 1 apply commit, entry 113, type CompactLog, truncatedIndex 106[0m
2023/02/15 10:03:10.786818 peer_msg_handler.go:195: [0;37m[info] 3 apply commit, entry 113, type CompactLog, truncatedIndex 106[0m
2023/02/15 10:03:10.950152 peer_msg_handler.go:195: [0;37m[info] 2 apply commit, entry 113, type CompactLog, truncatedIndex 106[0m
2023/02/15 10:03:10.992281 peer_msg_handler.go:195: [0;37m[info] 5 apply commit, entry 131, type CompactLog, truncatedIndex 111[0m
2023/02/15 10:03:11.459610 peer_msg_handler.go:195: [0;37m[info] 2 apply commit, entry 131, type CompactLog, truncatedIndex 111[0m
2023/02/15 10:03:11.514420 peer_msg_handler.go:195: [0;37m[info] 4 apply commit, entry 131, type CompactLog, truncatedIndex 111[0m
2023/02/15 10:03:11.556953 peer_msg_handler.go:195: [0;37m[info] 1 apply commit, entry 131, type CompactLog, truncatedIndex 111[0m
2023/02/15 10:03:11.571199 peer_msg_handler.go:195: [0;37m[info] 3 apply commit, entry 131, type CompactLog, truncatedIndex 111[0m
2023/02/15 10:03:33.607584 peer_msg_handler.go:195: [0;37m[info] 2 apply commit, entry 232, type CompactLog, truncatedIndex 221[0m
2023/02/15 10:03:33.652643 peer_msg_handler.go:195: [0;37m[info] 4 apply commit, entry 232, type CompactLog, truncatedIndex 221[0m
2023/02/15 10:03:33.674576 peer_msg_handler.go:195: [0;37m[info] 5 apply commit, entry 232, type CompactLog, truncatedIndex 221[0m
2023/02/15 10:03:33.674617 peer_msg_handler.go:195: [0;37m[info] 1 apply commit, entry 232, type CompactLog, truncatedIndex 221[0m
2023/02/15 10:03:33.716199 peer_msg_handler.go:195: [0;37m[info] 3 apply commit, entry 232, type CompactLog, truncatedIndex 221[0m
2023/02/15 10:03:33.717121 peer_msg_handler.go:195: [0;37m[info] 2 apply commit, entry 247, type CompactLog, truncatedIndex 230[0m
2023/02/15 10:03:33.758692 peer_msg_handler.go:195: [0;37m[info] 4 apply commit, entry 247, type CompactLog, truncatedIndex 230[0m
2023/02/15 10:03:33.802374 peer_msg_handler.go:195: [0;37m[info] 1 apply commit, entry 247, type CompactLog, truncatedIndex 230[0m
2023/02/15 10:03:33.802405 peer_msg_handler.go:195: [0;37m[info] 5 apply commit, entry 247, type CompactLog, truncatedIndex 230[0m
2023/02/15 10:03:33.813530 peer_msg_handler.go:195: [0;37m[info] 3 apply commit, entry 247, type CompactLog, truncatedIndex 230[0m
2023/02/15 10:03:33.965511 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2023/02/15 10:03:33.965538 node.go:198: [0;37m[info] stop raft store thread, storeID: 1[0m
2023/02/15 10:03:34.066845 node.go:198: [0;37m[info] stop raft store thread, storeID: 2[0m
2023/02/15 10:03:34.080098 node.go:198: [0;37m[info] stop raft store thread, storeID: 3[0m
2023/02/15 10:03:34.092123 node.go:198: [0;37m[info] stop raft store thread, storeID: 4[0m
2023/02/15 10:03:34.104281 node.go:198: [0;37m[info] stop raft store thread, storeID: 5[0m
2023/02/15 10:03:34.605776 test_test.go:264: [0;33m[warning] restart servers
[0m
2023/02/15 10:03:34.606587 node.go:193: [0;37m[info] start raft store node, storeID: 1[0m
2023/02/15 10:03:34.606817 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 >  create peer with ID 1[0m
2023/02/15 10:03:34.607067 raftstore.go:174: [0;37m[info] start store 1, region_count 1, tombstone_count 0, takes 340.362Âµs[0m
2023/02/15 10:03:34.607698 node.go:193: [0;37m[info] start raft store node, storeID: 2[0m
2023/02/15 10:03:34.607858 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 >  create peer with ID 2[0m
2023/02/15 10:03:34.608026 raftstore.go:174: [0;37m[info] start store 2, region_count 1, tombstone_count 0, takes 225.285Âµs[0m
2023/02/15 10:03:34.608691 node.go:193: [0;37m[info] start raft store node, storeID: 3[0m
2023/02/15 10:03:34.608836 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 >  create peer with ID 3[0m
2023/02/15 10:03:34.609065 raftstore.go:174: [0;37m[info] start store 3, region_count 1, tombstone_count 0, takes 276.046Âµs[0m
2023/02/15 10:03:34.609743 node.go:193: [0;37m[info] start raft store node, storeID: 4[0m
2023/02/15 10:03:34.609918 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 >  create peer with ID 4[0m
2023/02/15 10:03:34.610132 raftstore.go:174: [0;37m[info] start store 4, region_count 1, tombstone_count 0, takes 277.623Âµs[0m
2023/02/15 10:03:34.610751 node.go:193: [0;37m[info] start raft store node, storeID: 5[0m
2023/02/15 10:03:34.610931 peer.go:41: [0;37m[info] region id:1 region_epoch:<conf_ver:1 version:1 > peers:<id:3 store_id:3 > peers:<id:4 store_id:4 > peers:<id:5 store_id:5 > peers:<id:1 store_id:1 > peers:<id:2 store_id:2 >  create peer with ID 5[0m
2023/02/15 10:03:34.611102 raftstore.go:174: [0;37m[info] start store 5, region_count 1, tombstone_count 0, takes 260.304Âµs[0m
2023/02/15 10:03:36.764996 peer_msg_handler.go:195: [0;37m[info] 4 apply commit, entry 332, type CompactLog, truncatedIndex 330[0m
2023/02/15 10:03:36.775453 peer_msg_handler.go:195: [0;37m[info] 5 apply commit, entry 332, type CompactLog, truncatedIndex 330[0m
2023/02/15 10:03:36.777225 peer_msg_handler.go:195: [0;37m[info] 1 apply commit, entry 332, type CompactLog, truncatedIndex 330[0m
2023/02/15 10:03:36.801083 peer_msg_handler.go:195: [0;37m[info] 2 apply commit, entry 332, type CompactLog, truncatedIndex 330[0m
2023/02/15 10:03:36.826848 peer_msg_handler.go:195: [0;37m[info] 3 apply commit, entry 332, type CompactLog, truncatedIndex 330[0m
2023/02/15 10:05:14.943915 peer_msg_handler.go:195: [0;37m[info] 2 apply commit, entry 432, type CompactLog, truncatedIndex 430[0m
2023/02/15 10:05:14.968213 peer_msg_handler.go:195: [0;37m[info] 1 apply commit, entry 432, type CompactLog, truncatedIndex 430[0m
2023/02/15 10:05:14.968228 peer_msg_handler.go:195: [0;37m[info] 3 apply commit, entry 432, type CompactLog, truncatedIndex 430[0m
2023/02/15 10:05:14.992640 peer_msg_handler.go:195: [0;37m[info] 5 apply commit, entry 432, type CompactLog, truncatedIndex 430[0m
2023/02/15 10:05:14.992725 peer_msg_handler.go:195: [0;37m[info] 4 apply commit, entry 432, type CompactLog, truncatedIndex 430[0m
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	150.638s
